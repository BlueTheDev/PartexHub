<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PartexHub</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto&family=Montserrat&family=Lobster&family=Open+Sans&family=Pacifico&family=Fira+Code&family=Courier+Prime&display=swap" rel="stylesheet">
<style>
/* ---------------- Reset & Grundstyles ---------------- */
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:'Roboto',sans-serif;
    background:#f5f5f5;
    overflow-x:hidden;
    transition:background 0.3s,color 0.3s;
}
header{
    background:#1e1e1e;
    color:white;
    padding:15px 30px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:1000;
}
header h1{font-size:28px;font-family:'Montserrat',sans-serif;}
header .buttons{display:flex;gap:10px;}
header button{
    padding:8px 15px;
    border:none;
    border-radius:8px;
    background:#ff6b6b;
    color:white;
    cursor:pointer;
    font-size:14px;
    transition: all 0.3s;
}
header button:hover{background:#ff3b3b;}
.theme-toggle{background:#555;}
.theme-toggle:hover{background:#333;}

/* ---------------- Dashboard ---------------- */
.dashboard{
    display:flex;
    flex-wrap:wrap;
    gap:25px;
    padding:40px;
    justify-content:center;
}
.app-card{
    background:white;
    border-radius:15px;
    padding:25px;
    width:220px;
    height:180px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    box-shadow:0 8px 20px rgba(0,0,0,0.1);
    cursor:pointer;
    transition: all 0.3s;
    position: relative;
}
.app-card:hover{
    transform: translateY(-8px);
    box-shadow:0 12px 30px rgba(0,0,0,0.2);
}
.app-card h2{
    margin-top:15px;
    font-size:18px;
    font-family:'Montserrat',sans-serif;
}
.app-card img{
    width:50px;
    height:50px;
}
.app-card .tooltip{
    position:absolute;
    bottom:-25px;
    font-size:12px;
    background:rgba(0,0,0,0.7);
    color:white;
    padding:3px 8px;
    border-radius:5px;
    opacity:0;
    pointer-events:none;
    transition: opacity 0.3s;
}
.app-card:hover .tooltip{opacity:1;}

/* ---------------- App Container ---------------- */
#app-container{
    display:none;
    padding:30px 40px;
}

/* ---------------- Toolbar ---------------- */
.toolbar{
    margin-bottom:15px;
    display:flex;
    flex-wrap:wrap;
    gap:8px;
}
.toolbar select,.toolbar button,.toolbar input[type=color]{
    padding:6px 10px;
    border-radius:6px;
    border:1px solid #ccc;
    font-size:14px;
    cursor:pointer;
    transition: all 0.2s;
}
.toolbar button:hover{background:#ddd;}

/* ---------------- Writer ---------------- */
#writer{
    width:100%;
    min-height:500px;
    border-radius:10px;
    border:1px solid #ccc;
    padding:15px;
    font-size:16px;
    font-family:'Roboto',sans-serif;
    line-height:1.5;
    resize: vertical;
}

/* ---------------- Presenter ---------------- */
.slide-container{
    width:100%;
    min-height:500px;
    position:relative;
    background:#fff;
    border-radius:10px;
    border:1px solid #ccc;
    overflow:hidden;
}
.slide{
    display:none;
    width:100%;
    height:100%;
    padding:20px;
    font-size:20px;
    line-height:1.4;
    font-family:'Roboto',sans-serif;
    position:absolute;
    top:0;
    left:0;
    transition: all 0.5s;
    overflow:auto;
}
.slide.active{display:block;}

/* ---------------- Settings Panel ---------------- */
#settings-panel{
    display:none;
    position:fixed;
    top:60px;
    right:0;
    width:300px;
    background:white;
    border-left:1px solid #ccc;
    height:calc(100% - 60px);
    padding:20px;
    box-shadow:-4px 0 10px rgba(0,0,0,0.1);
    z-index:2000;
}
#settings-panel h3{margin-bottom:15px;}
.setting-item{margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;}

/* ---------------- Dark Theme ---------------- */
body.dark{background:#121212;color:white;}
body.dark #writer{background:#1e1e1e;color:white;border:1px solid #444;}
body.dark .slide-container{background:#1e1e1e;border:1px solid #444;}
body.dark .slide{color:white;}
body.dark #settings-panel{background:#1e1e1e;color:white;border-left:1px solid #444;}

/* ---------------- Responsive ---------------- */
@media(max-width:768px){
    .dashboard{gap:15px;padding:20px;}
    .app-card{width:45%;height:150px;}
}
@media(max-width:480px){
    .dashboard{flex-direction:column;align-items:center;}
    .app-card{width:80%;}
}
</style>
</head>
<body>
<header>
    <h1>PartexHub</h1>
    <div class="buttons">
        <button onclick="goDashboard()">Dashboard</button>
        <button class="theme-toggle" onclick="toggleTheme()">Theme</button>
        <button onclick="toggleSettings()">Einstellungen</button>
    </div>
</header>

<div class="dashboard" id="dashboard">
    <div class="app-card" onclick="openWriter()">
        <img src="https://img.icons8.com/ios-filled/50/000000/edit--v1.png"/>
        <h2>PartexWriter</h2>
        <div class="tooltip">Schreibe Texte wie ein Profi!</div>
    </div>
    <div class="app-card" onclick="openPresenter()">
        <img src="https://img.icons8.com/ios-filled/50/000000/presentation.png"/>
        <h2>PartexPresenter</h2>
        <div class="tooltip">Erstelle Pr√§sentationen!</div>
    </div>
</div>

<div id="app-container">
    <!-- Writer Toolbar -->
    <div class="toolbar" id="writer-toolbar" style="display:none;">
        <select id="font-select" onchange="changeFont()">
            <option value="Roboto">Roboto</option>
            <option value="Montserrat">Montserrat</option>
            <option value="Lobster">Lobster</option>
            <option value="Open Sans">Open Sans</option>
            <option value="Pacifico">Pacifico</option>
            <option value="Fira Code">Fira Code</option>
            <option value="Courier Prime">Courier Prime</option>
        </select>
        <select id="font-size" onchange="changeFontSize()">
            <option value="14px">14</option>
            <option value="16px" selected>16</option>
            <option value="18px">18</option>
            <option value="20px">20</option>
            <option value="22px">22</option>
            <option value="24px">24</option>
            <option value="28px">28</option>
        </select>
        <input type="color" id="text-color" onchange="changeTextColor()" title="Textfarbe">
        <input type="color" id="bg-color" onchange="changeBgColor()" title="Hintergrundfarbe">
        <button onclick="boldText()">B</button>
        <button onclick="italicText()">I</button>
        <button onclick="underlineText()">U</button>
        <button onclick="insertBullet()">‚Ä¢ Liste</button>
        <button onclick="insertNumber()">1. Liste</button>
        <button onclick="insertEmoji()">üòä</button>
        <button onclick="undoText()">‚Ü∂</button>
        <button onclick="redoText()">‚Ü∑</button>
        <button onclick="downloadText()">Download</button>
        <button onclick="copyText()">Kopieren</button>
    </div>
    <textarea id="writer" style="display:none;"></textarea>

    <!-- Presenter Toolbar -->
    <div class="toolbar" id="presenter-toolbar" style="display:none;">
        <button onclick="prevSlide()">‚Üê Vorherige Folie</button>
        <button onclick="nextSlide()">N√§chste Folie ‚Üí</button>
        <button onclick="addSlide()">Neue Folie</button>
        <input type="color" id="slide-bg" onchange="changeSlideBg()" title="Hintergrundfarbe">
        <button onclick="downloadSlides()">Download</button>
        <button onclick="fullscreenSlide()">Vollbild</button>
    </div>
    <div class="slide-container" id="slides-container" style="display:none;"></div>
</div>

<!-- Settings Panel -->
<div id="settings-panel">
    <h3>Einstellungen</h3>
    <div class="setting-item">
        <label>Autosave Writer</label>
        <input type="checkbox" id="autosave-writer" checked>
    </div>
    <div class="setting-item">
        <label>Autosave Presenter</label>
        <input type="checkbox" id="autosave-presenter" checked>
    </div>
    <div class="setting-item">
        <label>Default Font</label>
        <select id="default-font">
            <option value="Roboto">Roboto</option>
            <option value="Montserrat">Montserrat</option>
            <option value="Lobster">Lobster</option>
        </select>
    </div>
    <div class="setting-item">
        <label>Default Font Size</label>
        <select id="default-fontsize">
            <option value="16px">16</option>
            <option value="18px">18</option>
            <option value="20px">20</option>
        </select>
    </div>
</div>

<script>
// ---------------- Global Variables
let currentSlide=0, slides=[], undoStack=[], redoStack=[];

// ---------------- Dashboard
function goDashboard(){
    document.getElementById('dashboard').style.display='flex';
    document.getElementById('app-container').style.display='none';
    document.getElementById('writer-toolbar').style.display='none';
    document.getElementById('presenter-toolbar').style.display='none';
    document.getElementById('writer').style.display='none';
    document.getElementById('slides-container').style.display='none';
}

// ---------------- Theme Toggle
function toggleTheme(){document.body.classList.toggle('dark');}

// ---------------- Settings Panel
function toggleSettings(){
    let panel=document.getElementById('settings-panel');
    panel.style.display=(panel.style.display==='block')?'none':'block';
}

// ---------------- Writer Functions
function openWriter(){
    document.getElementById('dashboard').style.display='none';
    document.getElementById('app-container').style.display='block';
    document.getElementById('writer-toolbar').style.display='flex';
    document.getElementById('writer').style.display='block';
    document.getElementById('presenter-toolbar').style.display='none';
    document.getElementById('slides-container').style.display='none';
    loadWriter();
}
function changeFont(){document.getElementById('writer').style.fontFamily=document.getElementById('font-select').value;}
function changeFontSize(){document.getElementById('writer').style.fontSize=document.getElementById('font-size').value;}
function changeTextColor(){document.getElementById('writer').style.color=document.getElementById('text-color').value;}
function changeBgColor(){document.getElementById('writer').style.background=document.getElementById('bg-color').value;}
function boldText(){insertAround('**');}
function italicText(){insertAround('*');}
function underlineText(){insertAround('__');}
function insertAround(symbol){
    let ta=document.getElementById('writer');
    let val=ta.value, start=ta.selectionStart, end=ta.selectionEnd;
    undoStack.push(val); redoStack=[];
    ta.value=val.substring(0,start)+symbol+val.substring(start,end)+symbol+val.substring(end);
}
function insertBullet(){insertAround('‚Ä¢ ');}
function insertNumber(){insertAround('1. ');}
function insertEmoji(){let emoji='üòä'; insertTextAtCursor(emoji);}
function insertTextAtCursor(text){let ta=document.getElementById('writer'); let start=ta.selectionStart; let end=ta.selectionEnd; undoStack.push(ta.value); redoStack=[]; ta.value=ta.value.substring(0,start)+text+ta.value.substring(end); ta.selectionStart=ta.selectionEnd=start+text.length;}
function undoText(){if(undoStack.length>0){redoStack.push(document.getElementById('writer').value); document.getElementById('writer').value=undoStack.pop();}}
function redoText(){if(redoStack.length>0){undoStack.push(document.getElementById('writer').value); document.getElementById('writer').value=redoStack.pop();}}
function downloadText(){const blob=new Blob([document.getElementById('writer').value],{type:"text/plain"}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='PartexWriter.txt'; a.click();}
function copyText(){document.getElementById('writer').select(); document.execCommand('copy'); alert('Text kopiert!');}
function loadWriter(){if(localStorage.getItem('partex-writer')){document.getElementById('writer').value=localStorage.getItem('partex-writer');}}
setInterval(()=>{if(document.getElementById('autosave-writer').checked)localStorage.setItem('partex-writer',document.getElementById('writer').value);},5000);

// ---------------- Presenter Functions
function openPresenter(){
    document.getElementById('dashboard').style.display='none';
    document.getElementById('app-container').style.display='block';
    document.getElementById('writer-toolbar').style.display='none';
    document.getElementById('writer').style.display='none';
    document.getElementById('presenter-toolbar').style.display='flex';
    document.getElementById('slides-container').style.display='block';
    if(slides.length===0) addSlide();
    showSlide(currentSlide);
}
function addSlide(){const slide=document.createElement('div'); slide.className='slide'; slide.contentEditable=true; slide.innerText='Neue Folie'; slide.style.background='white'; document.getElementById('slides-container').appendChild(slide); slides.push(slide); currentSlide=slides.length-1; showSlide(currentSlide);}
function showSlide(index){slides.forEach((s,i)=>s.classList.remove('active')); if(slides[index]) slides[index].classList.add('active');}
function nextSlide(){if(currentSlide<slides.length-1) currentSlide++; showSlide(currentSlide);}
function prevSlide(){if(currentSlide>0) currentSlide--; showSlide(currentSlide);}
function changeSlideBg(){if(slides[currentSlide]) slides[currentSlide].style.background=document.getElementById('slide-bg').value;}
function downloadSlides(){let content=slides.map(s=>s.innerText).join('\n\n'); const blob=new Blob([content],{type:"text/plain"}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='PartexPresenter.txt'; a.click();}
function fullscreenSlide(){if(slides[currentSlide]){slides[currentSlide].requestFullscreen();}}
setInterval(()=>{if(document.getElementById('autosave-presenter').checked && slides.length>0){slides.forEach((s,i)=>localStorage.setItem('partex-slide-'+i,s.innerText));}} ,5000);

// ---------------- Load Slides from Storage
window.onload=function(){let saved=0; while(localStorage.getItem('partex-slide-'+saved)){addSlide(); slides[saved].innerText=localStorage.getItem('partex-slide-'+saved); saved++; }}
</script>
</body>
</html>
